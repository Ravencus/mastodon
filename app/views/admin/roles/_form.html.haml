= simple_form_for @role, url: @role.new_record? ? admin_roles_path : admin_role_path(@role) do |f|
  = render 'shared/error_messages', object: @role

  - if @role.everyone?
    .flash-message.info
      = t('admin.roles.everyone_full_description_html')
  - else
    .fields-group
      = f.input :name, wrapper: :with_label

    .fields-group
      = f.input :position, wrapper: :with_label

    .fields-group
      = f.input :color, wrapper: :with_label, input_html: { placeholder: '#000000' }

    %hr.spacer/

    .fields-group
      = f.input :highlighted, wrapper: :with_label

    %hr.spacer/

  .field-group
    = f.input :permissions_as_keys, collection: UserRole::FLAGS.keys, wrapper: :with_block_label, include_blank: false, label_method: lambda { |privilege| safe_join([t("admin.roles.privileges.#{privilege}"), content_tag(:span, t("admin.roles.privileges.#{privilege}_description"), class: 'hint')]) }, required: false, as: :check_boxes, collection_wrapper_tag: 'ul', item_wrapper_tag: 'li'

  %hr.spacer/

  .actions
    = f.button :button, @role.new_record? ? t('admin.roles.add_new') : t('generic.save_changes'), type: :submit
